function getVerify(){for(var r="",e=0;e<4;e++){var t=Math.floor(9*Math.random()+49);r+='<i style="color:'+getRandomColor()+'">'+String.fromCharCode(t)+"</i>"}return r}function getRandomColor(){return"rgb("+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+")"}function verifyForm(r){var e=r.obj.val(),t=r.err_txt;if(e.length>0)if(r.reg.test(e)){if("pass_r"==r.type&&$(".user_pass").val().length>0)return $(".user_pass").val()==$(".user_pass_r").val()?(t.text(r.right),!1):(t.text(r.err),!1);if("verify"==r.type)return console.log($("#verify_img").text()),e==$("#verify_img").text()?(t.text(r.right),!1):(t.text(r.err),!1);t.text(r.right),t.css("color","#009900")}else t.text(r.err),t.css("color","#FF6B52");else t.text(r.empty),t.css("color","#FF6B52")}$(function(){$("#verify_img").html(getVerify()),$("#verify_img").click(function(){$("#verify_img").html(getVerify())}),$("#verify_btn").click(function(){return $("#verify_img").html(getVerify()),!1}),$(".user_name").on({keydown:function(r){isNaN($(this).val())&&$(this).keyup(function(){$(this).val(""),$(this).off("keyup")})},blur:function(){verifyForm({obj:$(this),err_txt:$(".err_un"),reg:/^(13[0-9]|15[0|3|6|7|8|9]|18[8|9])\d{8}$/,right:"可以使用",err:"您输入的手机号码格式错误，请重新输入",empty:"请输入手机号码"})}}),$(".user_pass").on({blur:function(){verifyForm({obj:$(this),err_txt:$(".err_up"),reg:/^\w{6,20}$/,right:"",err:"密码长度必须为6-20个字符",empty:"请输入密码"})}}),$(".user_pass_r").on({blur:function(){verifyForm({obj:$(this),err_txt:$(".err_up_r"),reg:/^\w{6,20}$/,right:"",err:"两次输入的密码不一致，请重新输入",empty:"请再次输入密码",type:"pass_r"})}}),$(".user_verify").on({blur:function(){verifyForm({obj:$(this),err_txt:$(".err_rv"),reg:/^\d{4}$/,right:"",err:"验证码有误，请重新输入",empty:"请输入验证码",type:"verify"})}}),$(".user_sms").on({blur:function(){verifyForm({obj:$(this),err_txt:$(".err_sms"),reg:/^\d{4}$/,right:"",err:"您输入的短信校验码有误，请重新输入",empty:"",type:"sms"})}}),$(".terms > input").change(function(){console.log($(".terms > input").attr("checked")),"checked"==$(".terms > input").attr("checked")?($(".terms > input").removeAttr("checked"),$(".user_submit").attr("disabled","true").css("background","#CCC")):($(".terms > input").attr("checked","true"),$(".user_submit").removeAttr("disabled").css("background","#E83917"))}),$(".user_verify").on({blur:function(){verifyForm({obj:$(this),err_txt:$(".err_lv"),reg:/^\d{4}$/,right:"",err:"验证码有误，请重新输入",empty:"请输入验证码",type:"verify"})}})}),$(".user_submit").click(function(){var r=$(".user_name").val(),e=$(".user_pass").val(),t=new XMLHttpRequest;t.open("POST","http://192.168.1.17:300","true"),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var i="name="+r+"&content"+e;t.send(i)});